metadata:
  annotations:
    backstage.io/managed-by-location: >-
      url:https://github.com/Catalin4513/test_backstage/tree/main/composition-example.yaml
    backstage.io/managed-by-origin-location: >-
      url:https://github.com/Catalin4513/test_backstage/blob/main/composition-example.yaml
    backstage.io/view-url: >-
      https://github.com/Catalin4513/test_backstage/tree/main/composition-example.yaml
    backstage.io/edit-url: >-
      https://github.com/Catalin4513/test_backstage/edit/main/composition-example.yaml
    backstage.io/source-location: url:https://github.com/Catalin4513/test_backstage/tree/main/
  namespace: default
  name: my-resource-name
  description: A brief description of the resource
  uid: c98e1450-3adc-42b4-8f4c-0dc82adfd2a8
  etag: 98c2871078aec7fed2d0ddd8eae0363960711e57
apiVersion: backstage.io/v1alpha1
kind: Resource
spec:
  type: service
  owner: guest
  compositeTypeRef:
    apiVersion: aws.platform.upbound.io/v1alpha1
    kind: XKarpenter
  mode: Pipeline
  pipeline:
    - step: patch-and-transform
      functionRef:
        name: function-patch-and-transform
      input:
        apiVersion: pt.fn.crossplane.io/v1beta1
        kind: Resources
        resources:
          - name: storage-bucket
            base:
              apiVersion: s3.aws.upbound.io/v1beta2
              kind: BucketIntelligentTieringConfiguration
            patches: []
          - name: network-subnet
            base:
              apiVersion: s3.aws.upbound.io/v1beta2
              kind: BucketReplicationConfiguration
            patches:
              - type: ToCompositeFieldPath
                fromFieldPath: path/to/source3
                toFieldPath: path/to/target3
