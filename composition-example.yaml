{
  "metadata": {
    "namespace": "default",
    "annotations": {
      "backstage.io/managed-by-location": "url:https://github.com/Catalin4513/test_backstage/tree/main/composition-example.yaml",
      "backstage.io/managed-by-origin-location": "url:https://github.com/Catalin4513/test_backstage/blob/main/composition-example.yaml",
      "backstage.io/view-url": "https://github.com/Catalin4513/test_backstage/tree/main/composition-example.yaml",
      "backstage.io/edit-url": "https://github.com/Catalin4513/test_backstage/edit/main/composition-example.yaml",
      "backstage.io/source-location": "url:https://github.com/Catalin4513/test_backstage/tree/main/"
    },
    "name": "my-resource-name",
    "description": "A brief description of the resource",
    "uid": "02a57471-54f1-4fb4-8d46-e7b7d282793e",
    "etag": "c064962bf92488f44d8ed62d94aae6af74691917"
  },
  "apiVersion": "backstage.io/v1alpha1",
  "kind": "Resource",
  "spec": {
    "type": "service",
    "owner": "guest",
    "compositeTypeRef": {
      "apiVersion": "example.crossplane.io/v1",
      "kind": "XMultiResource"
    },
    "mode": "Pipeline",
    "pipeline": [
      {
        "step": "patch-and-transform",
        "functionRef": {
          "name": "function-patch-and-transform"
        },
        "input": {
          "apiVersion": "pt.fn.crossplane.io/v1beta1",
          "kind": "Resources",
          "resources": [
            {
              "name": "storage-bucket",
              "base": {
                "apiVersion": "s3.aws.upbound.io/v1beta1",
                "kind": "Bucket"
              },
              "patches": [
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "path/to/source1",
                  "toFieldPath": "path/to/target1"
                },
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "path/to/source2",
                  "toFieldPath": "path/to/target2"
                }
              ]
            },
            {
              "name": "database-instance",
              "base": {
                "apiVersion": "rds.aws.upbound.io/v1beta1",
                "kind": "DBInstance"
              },
              "patches": [
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "spec.dbInstanceClass",
                  "toFieldPath": "spec.forProvider.instanceClass"
                },
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "spec.dbEngine",
                  "toFieldPath": "spec.forProvider.engine"
                },
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "spec.allocatedStorage",
                  "toFieldPath": "spec.forProvider.allocatedStorage"
                }
              ]
            },
            {
              "name": "network-subnet",
              "base": {
                "apiVersion": "ec2.aws.upbound.io/v1beta1",
                "kind": "Subnet"
              },
              "patches": [
                {
                  "type": "FromCompositeFieldPath",
                  "fromFieldPath": "path/to/source3",
                  "toFieldPath": "path/to/target3"
                }
              ]
            }
          ]
        }
      }
    ]
  },
  "relations": [
    {
      "type": "ownedBy",
      "targetRef": "group:default/guest",
      "target": {
        "kind": "group",
        "namespace": "default",
        "name": "guest"
      }
    }
  ],
  "status": {
    "items": [
      {
        "type": "backstage.io/catalog-processing",
        "level": "error",
        "message": "InputError: Policy check failed for resource:default/my-resource-name; caused by Error: Unknown field relations",
        "error": {
          "name": "InputError",
          "message": "Policy check failed for resource:default/my-resource-name; caused by Error: Unknown field relations",
          "cause": {
            "name": "Error",
            "message": "Unknown field relations",
            "stack": "Error: Unknown field relations\n    at NoForeignRootFieldsEntityPolicy.enforce (/home/catalin/projects/Backstage/crossplane-studio/node_modules/@backstage/catalog-model/src/entity/policies/NoForeignRootFieldsEntityPolicy.ts:37:15)\n    at AllEntityPolicies.enforce (/home/catalin/projects/Backstage/crossplane-studio/node_modules/@backstage/catalog-model/src/EntityPolicies.ts:27:35)\n    at <anonymous> (/home/catalin/projects/Backstage/crossplane-studio/node_modules/@backstage/plugin-catalog-backend/src/processing/DefaultCatalogProcessingOrchestrator.ts:249:32)"
          }
        }
      }
    ]
  }
}